<!-- File: src/pages/dashboard/settings.html (REVISED & FIXED) -->
<div class="space-y-6">
    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg shadow">
        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-4">
            <div>
                <h3 class="font-semibold text-lg">Pengaturan Tampilan Beranda</h3>
                <p class="text-sm text-gray-500">Seret untuk mengubah urutan, atau tambah bagian baru.</p>
            </div>
            <button id="add-section-btn" class="bg-primary-600 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-primary-700 transition-colors">
                <i class="fas fa-plus"></i>
                <span>Tambah Bagian</span>
            </button>
        </div>
        
        <div id="homepage-layout-list" class="space-y-3">
            <!-- Daftar layout yang sudah ada akan dimuat di sini -->
        </div>
    </div>

    <div class="pt-2 text-right">
        <button id="save-layout-btn" class="bg-primary-600 text-white py-2 px-6 rounded-lg hover:bg-primary-700 font-semibold h-10 flex items-center justify-center min-w-[120px]">
            <span>Simpan Tata Letak</span>
        </button>
    </div>
</div>

<!-- Modal untuk Tambah/Edit Bagian (Struktur Diperbaiki) -->
<div id="section-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 p-4 flex items-center justify-center">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
        <div class="p-5 border-b dark:border-gray-700 flex justify-between items-center">
            <h3 class="text-xl font-semibold">Pengaturan Bagian Beranda</h3>
            <button class="close-modal-btn text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
        </div>
        
        <form id="section-modal-form" class="p-6 space-y-4 overflow-y-auto">
            <div>
                <label class="text-sm font-medium">Judul Bagian (Opsional)</label>
                <input type="text" id="section-title" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700">
            </div>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="text-sm font-medium">Gaya Tampilan (Layout)</label>
                    <select id="layoutStyle" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700">
                        <option value="vertical_list">Daftar Vertikal</option>
                        <option value="compact_list">Daftar Ringkas</option>
                        <option value="grid_2_column">Grid (2 Kolom)</option>
                        <option value="grid_3_column">Grid (3 Kolom)</option>
                        <option value="carousel">Carousel (Geser Horizontal)</option>
                        <option value="featured_item">Item Unggulan</option>
                        <option value="giant">Giant (1 Item Besar)</option>
                    </select>
                </div>
                <div>
                    <label class="text-sm font-medium">Tipe Konten</label>
                    <!-- PERUBAHAN DIMULAI DI SINI -->
                    <select id="contentType" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700">
                        <option value="course">Kursus</option>
                        <option value="article">Artikel</option>
                        <option value="video">Video</option>
                        <option value="ebook">E-Book</option>
                        <option value="event">Event</option>
                        <option value="signal">Sinyal</option>
                        <option value="post">Postingan Komunitas</option>
                        <option value="banner">Banner</option>
                    </select>
                    <!-- PERUBAHAN SELESAI DI SINI -->
                </div>
            </div>
            <div class="border-t dark:border-gray-600 pt-4">
                <label class="text-sm font-medium">Sumber Konten</label>
                <div class="flex gap-4 mt-2">
                    <label class="flex items-center"><input type="radio" name="contentSource" value="latest" checked> <span class="ml-2">Terbaru</span></label>
                    <label class="flex items-center"><input type="radio" name="contentSource" value="manual"> <span class="ml-2">Pilih Manual</span></label>
                </div>
            </div>

            <!-- Container untuk Opsi Dinamis -->
            <div id="limit-container">
                <label class="text-sm font-medium">Jumlah Item</label>
                <input type="number" id="limit" value="4" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700">
            </div>
            <div id="contentIds-container" class="hidden">
                <label class="text-sm font-medium">ID Konten (pisahkan dengan koma)</label>
                <textarea id="contentIds" rows="2" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700 font-mono text-sm"></textarea>
                <p class="text-xs text-gray-500 mt-1">Salin ID dari halaman manajemen konten terkait.</p>
            </div>
            
            <div class="border-t dark:border-gray-600 pt-4 space-y-2">
                 <label class="flex items-center gap-2">
                    <input type="checkbox" id="showSeeAllButton" class="h-4 w-4 rounded">
                    <span class="text-sm font-medium">Tampilkan Tombol "Lihat Semua"</span>
                </label>
                <div id="seeAllLink-container" class="hidden">
                    <label class="text-sm font-medium">Link Tujuan Tombol</label>
                    <input type="text" id="seeAllLink" placeholder="e.g., signals, community, events" class="mt-1 w-full p-2 border rounded bg-white dark:bg-gray-700">
                     <p class="text-xs text-gray-500 mt-1">Gunakan nama rute halaman, contoh: 'signals' atau 'community'.</p>
                </div>
            </div>
        </form>

        <div class="p-4 bg-gray-50 dark:bg-gray-900/50 flex justify-end gap-3 border-t dark:border-gray-700 mt-auto">
            <button class="cancel-modal-btn px-4 py-2 text-sm rounded-lg bg-gray-200 dark:bg-gray-600">Batal</button>
            <button id="save-section-btn" class="px-4 py-2 text-sm rounded-lg bg-primary-600 text-white font-semibold">Tambahkan ke Beranda</button>
        </div>
    </div>
</div>
