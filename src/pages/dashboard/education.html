<!-- File: src/pages/dashboard/education.html -->
<!-- Versi Perbaikan: 4.0 (Premium per Bab) -->
<!-- Perubahan: Menghapus tipe kursus, menambahkan checkbox premium di modal bab. -->

<!-- Tampilan Daftar Kursus -->
<div id="course-list-view">
    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
        <div>
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Manajemen Kursus Edukasi</h2>
            <p class="text-sm text-gray-500">Buat dan atur kurikulum untuk aplikasi Anda.</p>
        </div>
        <button id="add-course-btn" class="w-full sm:w-auto bg-primary-600 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-primary-700">
            <i class="fas fa-plus"></i>
            <span>Buat Kursus Baru</span>
        </button>
    </div>

    <div class="mt-6 bg-white dark:bg-gray-800 p-5 rounded-lg shadow">
        <h3 class="font-semibold mb-4">Daftar Kursus</h3>
        <div id="course-list-container" class="space-y-4">
            <!-- Konten diisi oleh education.js -->
        </div>
    </div>
</div>

<!-- Tampilan Editor Kurikulum -->
<div id="course-editor-view" class="hidden">
    <div class="mb-4 flex justify-between items-center">
        <button id="back-to-list-btn" class="font-semibold text-gray-600 dark:text-gray-300 hover:text-primary-500"><i class="fas fa-arrow-left mr-2"></i>Kembali ke Daftar Kursus</button>
        <button id="manage-quiz-btn" class="bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-yellow-600">
            <i class="fas fa-question-circle"></i>
            <span>Kelola Kuis</span>
        </button>
    </div>
    <div class="bg-white dark:bg-gray-800 p-5 rounded-lg shadow">
        <h3 id="editor-course-title" class="text-2xl font-bold mb-6">Kurikulum: ...</h3>
        <div id="chapters-container" class="space-y-4">
            <!-- Konten bab dan pelajaran diisi oleh education.js -->
        </div>
        <button id="add-chapter-btn" class="mt-6 w-full border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 flex items-center justify-center space-x-2 font-semibold">
            <i class="fas fa-plus"></i>
            <span>Tambah Bab Baru</span>
        </button>
    </div>
</div>

<!-- === MODALS UNTUK MANAJEMEN EDUKASI === -->

<!-- Modal untuk Buat/Edit Kursus -->
<div id="course-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl">
        <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center">
            <h3 id="course-modal-title" class="text-xl font-semibold">Buat Kursus Baru</h3>
            <button class="close-modal-btn text-2xl">&times;</button>
        </div>
        <form id="course-modal-form" class="p-6 space-y-4">
            <label class="block"><span class="text-sm font-medium">Judul Kursus</span><input id="course-title-input" type="text" class="mt-1 w-full p-2 border rounded bg-gray-50 dark:bg-gray-700"></label>
            <label class="block"><span class="text-sm font-medium">Deskripsi Singkat</span><textarea id="course-desc-input" rows="3" class="mt-1 w-full p-2 border rounded bg-gray-50 dark:bg-gray-700"></textarea></label>
            <!-- PERBAIKAN: Opsi tipe kursus dihapus -->
            <div>
                <label class="text-sm font-medium">Gambar Thumbnail</label>
                <input id="course-image-input" type="file" accept="image/*" class="mt-1 w-full text-sm">
            </div>
        </form>
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end space-x-2">
            <button class="cancel-modal-btn px-4 py-2 rounded-lg">Batal</button>
            <button id="save-course-btn" type="submit" form="course-modal-form" class="px-4 py-2 rounded-lg bg-primary-600 text-white"><span>Simpan</span></button>
        </div>
    </div>
</div>

<!-- Modal untuk Buat/Edit Bab -->
<div id="chapter-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg">
        <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center">
            <h3 id="chapter-modal-title" class="text-xl font-semibold">Bab Baru</h3>
            <button class="close-modal-btn text-2xl">&times;</button>
        </div>
        <form id="chapter-modal-form" class="p-6 space-y-4">
            <label class="block"><span class="text-sm font-medium">Judul Bab</span><input id="chapter-title-input" type="text" class="mt-1 w-full p-2 border rounded bg-gray-50 dark:bg-gray-700"></label>
            <!-- PERBAIKAN: Checkbox untuk menandai bab sebagai premium ditambahkan -->
            <div class="flex items-center">
                <input type="checkbox" id="chapter-isPremium-input" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                <label for="chapter-isPremium-input" class="ml-2 block text-sm font-medium">Jadikan Bab ini Premium?</label>
            </div>
        </form>
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end space-x-2">
            <button class="cancel-modal-btn px-4 py-2 rounded-lg">Batal</button>
            <button id="save-chapter-btn" type="submit" form="chapter-modal-form" class="px-4 py-2 rounded-lg bg-primary-600 text-white"><span>Simpan</span></button>
        </div>
    </div>
</div>

<!-- Sisa modal lainnya tetap sama -->
<div id="lesson-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
        <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center"><h3 id="lesson-modal-title" class="text-xl font-semibold">Pelajaran Baru</h3><button class="close-modal-btn text-2xl">&times;</button></div>
        <form id="lesson-modal-form" class="p-6 space-y-4 overflow-y-auto">
            <div><label for="content-id-input" class="text-sm font-medium">ID Konten</label><div class="flex items-center space-x-2 mt-1"><input id="content-id-input" type="text" placeholder="Tempel ID dari Manajemen Konten" class="flex-grow p-2 border rounded bg-gray-50 dark:bg-gray-700 font-mono text-sm"><button id="link-content-btn" type="button" class="bg-blue-600 text-white px-4 h-10 rounded-lg font-semibold hover:bg-blue-700">Tautkan</button></div></div>
            <div id="lesson-content-preview" class="hidden p-3 border-2 border-dashed rounded-lg"><p class="text-sm text-gray-500">Pratinjau Konten:</p><div class="flex items-center space-x-2 mt-2"><i id="preview-icon" class="fas fa-file-alt text-lg"></i><span id="preview-title" class="font-semibold">Judul Konten Akan Muncul di Sini</span></div></div>
            <div><label for="lesson-title-input" class="text-sm font-medium">Judul Pelajaran</label><input id="lesson-title-input" type="text" readonly class="mt-1 w-full p-2 border rounded bg-gray-200 dark:bg-gray-800 cursor-not-allowed" placeholder="Akan terisi otomatis setelah konten ditautkan"></div>
        </form>
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end space-x-2 mt-auto"><button class="cancel-modal-btn px-4 py-2 rounded-lg">Batal</button><button id="save-lesson-btn" type="submit" form="lesson-modal-form" class="px-4 py-2 rounded-lg bg-primary-600 text-white disabled:bg-gray-400" disabled><span>Simpan</span></button></div>
    </div>
</div>
<div id="quiz-manager-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col">
        <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center"><h3 class="text-xl font-semibold">Kelola Kuis</h3><button class="close-modal-btn text-2xl">&times;</button></div>
        <div class="p-6 flex-1 overflow-y-auto space-y-6">
            <div><label for="passing-grade-input" class="text-sm font-medium">Standar Kelulusan (%)</label><input id="passing-grade-input" type="number" min="0" max="100" value="80" class="mt-1 w-full p-2 border rounded bg-gray-50 dark:bg-gray-700"></div>
            <div><div class="flex justify-between items-center mb-2"><h4 class="font-semibold">Daftar Pertanyaan</h4><button id="add-question-btn" class="bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-semibold hover:bg-primary-700">+ Tambah</button></div><div id="question-list-container" class="space-y-3"></div></div>
        </div>
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end space-x-2"><button class="cancel-modal-btn px-4 py-2 rounded-lg">Tutup</button><button id="save-quiz-btn" class="px-4 py-2 rounded-lg bg-primary-600 text-white">Simpan Kuis</button></div>
    </div>
</div>
<div id="question-editor-modal" class="modal-overlay hidden fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col">
        <div class="p-6 border-b dark:border-gray-700 flex justify-between items-center"><h3 id="question-editor-title" class="text-xl font-semibold">Tambah Pertanyaan</h3><button class="close-modal-btn text-2xl">&times;</button></div>
        <form id="question-editor-form" class="p-6 flex-1 overflow-y-auto space-y-4">
            <label class="block"><span class="text-sm font-medium">Teks Pertanyaan</span><textarea id="question-text-input" rows="3" class="mt-1 w-full p-2 border rounded bg-gray-50 dark:bg-gray-700"></textarea></label>
            <div><label class="text-sm font-medium">Pilihan Jawaban (Pilih yang benar)</label><div class="mt-2 space-y-2" id="answer-options-container"><div class="flex items-center space-x-2"><input type="radio" name="correctAnswer" value="0" class="h-4 w-4"><input type="text" name="option_0" class="flex-1 p-2 border rounded bg-gray-50 dark:bg-gray-700" placeholder="Opsi A"></div><div class="flex items-center space-x-2"><input type="radio" name="correctAnswer" value="1" class="h-4 w-4"><input type="text" name="option_1" class="flex-1 p-2 border rounded bg-gray-50 dark:bg-gray-700" placeholder="Opsi B"></div><div class="flex items-center space-x-2"><input type="radio" name="correctAnswer" value="2" class="h-4 w-4"><input type="text" name="option_2" class="flex-1 p-2 border rounded bg-gray-50 dark:bg-gray-700" placeholder="Opsi C"></div><div class="flex items-center space-x-2"><input type="radio" name="correctAnswer" value="3" class="h-4 w-4"><input type="text" name="option_3" class="flex-1 p-2 border rounded bg-gray-50 dark:bg-gray-700" placeholder="Opsi D"></div></div></div>
        </form>
        <div class="p-4 bg-gray-50 dark:bg-gray-800/50 flex justify-end space-x-2"><button class="cancel-modal-btn px-4 py-2 rounded-lg">Batal</button><button id="save-question-btn" type="submit" form="question-editor-form" class="px-4 py-2 rounded-lg bg-primary-600 text-white">Simpan Pertanyaan</button></div>
    </div>
</div>
