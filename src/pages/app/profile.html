<!-- File: src/pages/app/profile.html -->
<!-- Versi Refactor: 2.1 (New Badge Implementation) -->
<!-- Perubahan: Menghapus elemen badge lama dan menggantinya dengan container baru. -->
<div class="bg-gray-50 dark:bg-gray-900 min-h-screen">
    
    <!-- Header Profil -->
    <div id="profile-header-bg" class="h-48 relative">
        <img id="profile-thumbnail" src="https://placehold.co/600x200/15803d/ffffff?text=SignalMax" alt="Foto sampul profil" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
        <div class="absolute top-4 right-4 z-10">
            <button id="go-to-settings-btn" class="text-white text-xl h-10 w-10 flex items-center justify-center rounded-full bg-black/20 hover:bg-black/40 transition-colors" aria-label="Pengaturan">
                <i class="fas fa-cog"></i>
            </button>
        </div>
    </div>

    <!-- Konten Utama Profil -->
    <div class="p-4 -mt-16 relative z-10">
        <!-- Info Pengguna -->
        <div class="flex flex-col items-center text-center">
            <img id="profile-avatar" src="https://placehold.co/100x100/ffffff/15803d?text=A" alt="Avatar profil" class="w-24 h-24 rounded-full border-4 border-white dark:border-gray-900 shadow-lg object-cover">
            
            <!-- PERUBAHAN: Struktur di dalam div ini dirombak -->
            <div class="mt-2">
                <h2 id="profile-name" class="text-xl font-bold text-gray-800 dark:text-white">Memuat...</h2>
                <div id="profile-badges-container" class="mt-2 flex items-center justify-center space-x-2">
                    <!-- Badge baru akan diisi oleh profile.js di sini -->
                </div>
                <p id="profile-email" class="text-sm text-gray-500 dark:text-gray-400 mt-2">...</p>
            </div>
        </div>

        <!-- Statistik Pengguna -->
        <div class="mt-8 grid grid-cols-3 gap-4 text-center items-center">
            <div>
                <p id="post-count" class="text-xl font-bold text-gray-800 dark:text-white">0</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Postingan</p>
            </div>
            
            <div class="flex flex-col items-center">
                <div class="relative w-16 h-16">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <circle class="text-gray-200 dark:text-gray-700" stroke-width="10" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                        <circle id="skill-progress-circle" class="text-primary-500 radial-chart-progress" stroke-width="10" stroke-linecap="round" stroke="currentColor" fill="transparent" r="40" cx="50" cy="50"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span id="skill-progress-text" class="text-base font-bold text-gray-800 dark:text-white">0%</span>
                    </div>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Keahlian</p>
            </div>

            <div>
                <p id="like-count" class="text-xl font-bold text-gray-800 dark:text-white">0</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Suka</p>
            </div>
        </div>

        <!-- Menu Aksi -->
        <div class="mt-8 space-y-2">
            <button data-action="edit-profile" class="profile-button w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                <div class="flex items-center"><i class="fas fa-user-edit text-primary-500 w-6 text-center"></i><span class="ml-3 font-medium text-gray-700 dark:text-gray-200">Edit Profil</span></div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </button>
            <button data-action="security" class="profile-button w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                <div class="flex items-center"><i class="fas fa-shield-alt text-primary-500 w-6 text-center"></i><span class="ml-3 font-medium text-gray-700 dark:text-gray-200">Keamanan</span></div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </button>
            <button data-action="notifications" class="profile-button w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                <div class="flex items-center"><i class="fas fa-bell text-primary-500 w-6 text-center"></i><span class="ml-3 font-medium text-gray-700 dark:text-gray-200">Notifikasi</span></div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </button>
            <button data-action="help" class="profile-button w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                <div class="flex items-center"><i class="fas fa-question-circle text-primary-500 w-6 text-center"></i><span class="ml-3 font-medium text-gray-700 dark:text-gray-200">Pusat Bantuan</span></div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </button>
            <button data-action="logout" class="profile-button w-full flex items-center p-3 mt-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                <i class="fas fa-sign-out-alt text-red-500 w-6 text-center"></i><span class="ml-3 font-medium text-red-500">Logout</span>
            </button>
        </div>
    </div>
</div>
