<!-- File: src/pages/app/content-viewer.html (REVISED & UPDATED) -->
<div class="bg-gray-50 dark:bg-gray-900 min-h-screen">
    <!-- Header Halaman -->
    <div class="p-4 sticky top-0 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-sm z-10 flex items-center space-x-4">
        <button id="back-to-home-btn" class="text-xl h-10 w-10 flex items-center justify-center text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors" aria-label="Kembali">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h1 id="content-viewer-header-title" class="text-lg font-bold text-gray-800 dark:text-white truncate">Memuat...</h1>
    </div>

    <!-- Kontainer Konten Utama -->
    <!-- PERUBAHAN: Menambahkan padding bottom (pb-24) agar tidak tertutup tombol sticky -->
    <div id="content-viewer-main" class="max-w-3xl mx-auto pb-24">
        <!-- Loader Awal -->
        <div id="content-loader" class="text-center py-16">
            <i class="fas fa-spinner fa-spin text-4xl text-gray-400"></i>
        </div>

        <!-- Tampilan untuk Artikel (Struktur Baru) -->
        <div id="article-view" class="hidden">
            <!-- Foto Utama -->
            <img id="article-image" src="https://placehold.co/1200x600/e0e0e0/333?text=+" alt="Foto Utama Artikel" class="w-full h-48 md:h-64 object-cover bg-gray-200 dark:bg-gray-700">
            
            <div class="p-4 md:p-6">
                <!-- Judul Artikel -->
                <h2 id="article-title" class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white leading-tight"></h2>
                
                <!-- Meta Data (Tanggal Terbit) -->
                <p id="article-date" class="text-sm text-gray-500 dark:text-gray-400 mt-2"></p>
                
                <!-- Konten Artikel (dari TinyMCE) -->
                <div id="article-content" class="prose dark:prose-invert max-w-none mt-6 text-gray-700 dark:text-gray-300 leading-relaxed">
                    <!-- Konten HTML dari TinyMCE akan dimasukkan di sini oleh JavaScript -->
                </div>
            </div>
        </div>

        <!-- Tampilan untuk Video -->
        <div id="video-view" class="hidden p-4 md:p-6">
            <div id="video-embed-container" class="aspect-video mb-4">
                <!-- Iframe YouTube akan dimasukkan di sini oleh JavaScript -->
            </div>
            <h2 id="video-title" class="text-2xl font-bold text-gray-800 dark:text-white"></h2>
            <p id="video-description" class="text-sm text-gray-600 dark:text-gray-400 mt-2 leading-relaxed whitespace-pre-wrap"></p>
        </div>

        <!-- Tampilan untuk E-Book -->
        <div id="ebook-view" class="hidden p-4 md:p-6">
            <div class="text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
                <i class="fas fa-book-open text-6xl text-primary-500 mb-4"></i>
                <h2 id="ebook-title" class="text-3xl font-bold text-gray-800 dark:text-white"></h2>
                <p class="text-gray-500 mt-2">E-Book siap untuk diunduh.</p>
                <a id="ebook-download-link" href="#" target="_blank" rel="noopener noreferrer" class="mt-6 inline-block bg-primary-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-primary-700 transition">
                    <i class="fas fa-download mr-2"></i> Unduh PDF
                </a>
            </div>
        </div>
        
        <!-- Tampilan untuk Pesan Error -->
        <div id="content-error-view" class="hidden p-8 text-center text-red-500">
             <!-- Pesan error akan dimasukkan di sini oleh JavaScript -->
        </div>
    </div>

    <!-- PERUBAHAN: Menambahkan area tombol aksi untuk pelajaran -->
    <div id="lesson-completion-action-container" class="hidden p-4 sticky bottom-0 bg-white dark:bg-gray-800 border-t dark:border-gray-700">
         <button id="lesson-action-btn" class="w-full bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-gray-600">
            Tandai Selesai
        </button>
    </div>
</div>
